<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"></meta>
	<title>Reddit Spyglass</title>
    <meta name="theme-color" content="#ff4301"/>
    <meta name="title" content="Reddit Spyglass"/>
    <meta name="description" content="See reddit post scores even if they are hidden"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Reddit Spyglass"/>
    <meta name="twitter:description" content="See reddit post scores even if they are hidden"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="See reddit post scores even if they are hidden"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
	This is a tool that allows you to see the score of reddit posts, even if the scores are hidden.<br><br>
    Paste URL of post:<br>
    <input id="urlInput" style="width:90%"><br><br>
    <button type="submit" onclick="getPoints()">Get Points</button><br><br>
	<span id="score"></span>
	<span id="sub"></span>
	<span id="title"></span>
	<span id="author"></span><br>
	<footer>Made by <a href="https://www.beatso.tk/">Beatso</a></footer>

    <script>
        const getPoints = () => {
            const urlInput = document.getElementById("urlInput").value
            let url
            if (urlInput.includes("?")) url = urlInput.substring(0,urlInput.indexOf('?'))+".json"
            else url = urlInput+".json"
            $.getJSON ( url, data => {
				const postData = data[0].data.children[0].data
				document.getElementById("score").innerHTML = "The post has <b>" + postData.ups + "</b> points.<br><br>"
				document.getElementById("sub").innerHTML = "Subreddit: " + postData.subreddit_name_prefixed + "<br>"
				document.getElementById("title").innerHTML = "Title: " + postData.title + "<br>"
				document.getElementById("author").innerHTML = "Author: u/" + postData.author + "<br>"
			})
        }
    </script>

	<style>
		body {
			font-family: "Segoe UI", Helvetica, Arial, sans-serif,
			"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
			font-size: 2vh;
			padding: 1vw;
		}
		footer {
			font-size: 1.5vh;
		}
	</style>

</body>
